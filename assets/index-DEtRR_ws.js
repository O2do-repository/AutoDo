import{h as _,j as o,k,o as r,i as c,w as i,l as b,n as u,t as h,q as d,f as p,s as f,V as g,_ as V}from"./index-DrGqQ6lX.js";import{V as m,a as x}from"./VSelect-DoMiOOY6.js";import{V as w}from"./VDataTable-ChShSvia.js";const P=["href"],F={key:1},R=_({__name:"HelloWorld",setup(v){const n=o([]),t=o(null),s=o(""),y=o([{key:"jobTitle",title:"Titre du poste",align:"start"},{key:"publicationDate",title:"Publiée le",align:"end",sortable:!0},{key:"deadlineDate",title:"Date limite",align:"end",sortable:!0},{key:"experienceLevel",title:"Expérience",align:"start"},{key:"rfpPriority",title:"Priorité",align:"center"},{key:"workplace",title:"Lieu",align:"start"},{key:"rfpUrl",title:"Lien",align:"center",sortable:!1},{key:"actions",title:"Actions",align:"center",sortable:!1}]);return k(async()=>{try{const a=await fetch("https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net/rfp");if(!a.ok)throw new Error("Erreur lors de la récupération des RFP ");const e=await a.json();console.log("Données reçues du backend :",e),n.value=Array.isArray(e)?e:[e]}catch(a){t.value=a instanceof Error?a.message:"Une erreur inconnue  est survenue",console.error(t.value)}}),(a,e)=>(r(),c(g,null,{default:i(()=>[e[2]||(e[2]=b("h1",{class:"text-center mb-6"},"Liste des RFP",-1)),t.value?(r(),c(m,{key:0,type:"error",variant:"outlined",class:"mb-4"},{default:i(()=>[u(h(t.value),1)]),_:1})):d("",!0),p(x,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),label:"Rechercher un RFP","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"mb-4"},null,8,["modelValue"]),p(w,{headers:y.value,items:n.value,search:s.value,"item-value":"Uuid",class:"elevation-2",dense:""},{"item.rfpUrl":i(({item:l})=>[l.rfpUrl?(r(),f("a",{key:0,href:l.rfpUrl,target:"_blank"},"Voir l'offre",8,P)):(r(),f("span",F,"Non disponible"))]),_:1},8,["headers","items","search"]),!n.value.length&&!t.value?(r(),c(m,{key:1,type:"info",class:"mt-4"},{default:i(()=>e[1]||(e[1]=[u(" Aucun RFP disponible. ")])),_:1})):d("",!0)]),_:1}))}}),U=V(R,[["__scopeId","data-v-39122183"]]),N=_({__name:"index",setup(v){return(n,t)=>{const s=U;return r(),c(s)}}});export{N as default};
