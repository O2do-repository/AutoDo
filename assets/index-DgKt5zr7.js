import{h as _,j as o,k as b,o as a,i as c,w as i,l as h,n as u,t as k,q as d,f as p,s as f,V as g,_ as V}from"./index-QUURL-EA.js";import{V as m}from"./VAlert-BITxlLIq.js";import{V as x}from"./VSelect-DFm1rkNi.js";import{V as w}from"./VDataTable-Ddc1XLhT.js";import"./VBtn-IKyACg3q.js";const P=["href"],F={key:1},R=_({__name:"HelloWorld",setup(v){const n=o([]),t=o(null),s=o(""),y=o([{key:"jobTitle",title:"Titre du poste",align:"start"},{key:"publicationDate",title:"Publiée le",align:"end",sortable:!0},{key:"deadlineDate",title:"Date limite",align:"end",sortable:!0},{key:"experienceLevel",title:"Expérience",align:"start"},{key:"rfpPriority",title:"Priorité",align:"center"},{key:"workplace",title:"Lieu",align:"start"},{key:"rfpUrl",title:"Lien",align:"center",sortable:!1}]);return b(async()=>{try{const r=await fetch("https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net/rfp");if(!r.ok)throw new Error("Erreur lors de la récupération des RFP ");const e=await r.json();console.log("Données reçues du backend :",e),n.value=Array.isArray(e)?e:[e]}catch(r){t.value=r instanceof Error?r.message:"Une erreur inconnue  est survenue",console.error(t.value)}}),(r,e)=>(a(),c(g,null,{default:i(()=>[e[2]||(e[2]=h("h1",{class:"text-center mb-6"},"Liste des RFP",-1)),t.value?(a(),c(m,{key:0,type:"error",variant:"outlined",class:"mb-4"},{default:i(()=>[u(k(t.value),1)]),_:1})):d("",!0),p(x,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),label:"Rechercher un RFP","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"mb-4"},null,8,["modelValue"]),p(w,{headers:y.value,items:n.value,search:s.value,"item-value":"Uuid",class:"elevation-2",dense:""},{"item.rfpUrl":i(({item:l})=>[l.rfpUrl?(a(),f("a",{key:0,href:l.rfpUrl,target:"_blank"},"Voir l'offre",8,P)):(a(),f("span",F,"Non disponible"))]),_:1},8,["headers","items","search"]),!n.value.length&&!t.value?(a(),c(m,{key:1,type:"info",class:"mt-4"},{default:i(()=>e[1]||(e[1]=[u(" Aucun RFP disponible. ")])),_:1})):d("",!0)]),_:1}))}}),U=V(R,[["__scopeId","data-v-4bf5c23c"]]),B=_({__name:"index",setup(v){return(n,t)=>{const s=U;return a(),c(s)}}});export{B as default};
