import{f as _,i as o,j as b,o as r,h as c,w as i,k,l as u,t as h,n as d,e as p,q as f,V as g}from"./index-C-LjzGTe.js";import{V as m,a as V,_ as x}from"./_plugin-vue_export-helper-BmXYExv4.js";import{V as w}from"./VSelect-ckf3Zc6x.js";import"./ssrBoot-DqN2j3fa.js";const P=["href"],F={key:1},R=_({__name:"HelloWorld",setup(v){const s=o([]),t=o(null),n=o(""),y=o([{key:"jobTitle",title:"Titre du poste",align:"start"},{key:"publicationDate",title:"Publiée le",align:"end",sortable:!0},{key:"deadlineDate",title:"Date limite",align:"end",sortable:!0},{key:"experienceLevel",title:"Expérience",align:"start"},{key:"rfpPriority",title:"Priorité",align:"center"},{key:"workplace",title:"Lieu",align:"start"},{key:"rfpUrl",title:"Lien",align:"center",sortable:!1},{key:"actions",title:"Actions",align:"center",sortable:!1}]);return b(async()=>{try{const a=await fetch("https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net/rfp");if(!a.ok)throw new Error("Erreur lors de la récupération des RFP ");const e=await a.json();console.log("Données reçues du backend :",e),s.value=Array.isArray(e)?e:[e]}catch(a){t.value=a instanceof Error?a.message:"Une erreur inconnue  est survenue",console.error(t.value)}}),(a,e)=>(r(),c(g,null,{default:i(()=>[e[2]||(e[2]=k("h1",{class:"text-center mb-6"},"Liste des RFP",-1)),t.value?(r(),c(m,{key:0,type:"error",variant:"outlined",class:"mb-4"},{default:i(()=>[u(h(t.value),1)]),_:1})):d("",!0),p(w,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),label:"Rechercher un RFP","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"mb-4"},null,8,["modelValue"]),p(V,{headers:y.value,items:s.value,search:n.value,"item-value":"Uuid",class:"elevation-2",dense:""},{"item.rfpUrl":i(({item:l})=>[l.rfpUrl?(r(),f("a",{key:0,href:l.rfpUrl,target:"_blank"},"Voir l'offre",8,P)):(r(),f("span",F,"Non disponible"))]),_:1},8,["headers","items","search"]),!s.value.length&&!t.value?(r(),c(m,{key:1,type:"info",class:"mt-4"},{default:i(()=>e[1]||(e[1]=[u(" Aucun RFP disponible. ")])),_:1})):d("",!0)]),_:1}))}}),U=x(R,[["__scopeId","data-v-53efe0cb"]]),T=_({__name:"index",setup(v){return(s,t)=>{const n=U;return r(),c(n)}}});export{T as default};
