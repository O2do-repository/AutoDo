import{s as D,an as R,x as I,U as F,a8 as _,r as E,ao as q,af as G,P as S,a3 as N,A as O,ap as T,B as V,g as d,ai as M,C as U,aq as J,ar as $,as as Q,at as X,au as Z,J as p,u as ee,av as te,K as ae,aw as ne,ax as oe,O as C,T as se,ay as le,o as re,az as ie,z as ue,aA as ce,aB as ve,aC as fe,aD as me,aE as de,aF as ge}from"./index-D-Inbi5U.js";import{V as be}from"./fetchWithApiKey-puCv6LHg.js";const he=D({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...R({origin:"center center",scrollStrategy:"block",transition:{component:be},zIndex:2400})},"VDialog"),we=I()({name:"VDialog",props:he(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,c){let{emit:a,slots:t}=c;const v=F(e,"modelValue"),{scopeId:h}=_(),n=E();function g(o){var i,u;const l=o.relatedTarget,f=o.target;if(l!==f&&((i=n.value)!=null&&i.contentEl)&&((u=n.value)!=null&&u.globalTop)&&![document,n.value.contentEl].includes(f)&&!n.value.contentEl.contains(f)){const r=J(n.value.contentEl);if(!r.length)return;const m=r[0],x=r[r.length-1];l===m?x.focus():m.focus()}}q(()=>{document.removeEventListener("focusin",g)}),G&&S(()=>v.value&&e.retainFocus,o=>{o?document.addEventListener("focusin",g):document.removeEventListener("focusin",g)},{immediate:!0});function b(){var o;a("afterEnter"),(o=n.value)!=null&&o.contentEl&&!n.value.contentEl.contains(document.activeElement)&&n.value.contentEl.focus({preventScroll:!0})}function y(){a("afterLeave")}return S(v,async o=>{var l;o||(await N(),(l=n.value.activatorEl)==null||l.focus({preventScroll:!0}))}),O(()=>{const o=T.filterProps(e),l=V({"aria-haspopup":"dialog"},e.activatorProps),f=V({tabindex:-1},e.contentProps);return d(T,V({ref:n,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},o,{modelValue:v.value,"onUpdate:modelValue":i=>v.value=i,"aria-modal":"true",activatorProps:l,contentProps:f,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:b,onAfterLeave:y},h),{activator:t.activator,default:function(){for(var i=arguments.length,u=new Array(i),r=0;r<i;r++)u[r]=arguments[r];return d(M,{root:"VDialog"},{default:()=>{var m;return[(m=t.default)==null?void 0:m.call(t,...u)]}})}})}),U({},n)}});function ye(e){const c=C(e());let a=-1;function t(){clearInterval(a)}function v(){t(),N(()=>c.value=e())}function h(n){const g=n?getComputedStyle(n):{transitionDuration:.2},b=parseFloat(g.transitionDuration)*1e3||200;if(t(),c.value<=0)return;const y=performance.now();a=window.setInterval(()=>{const o=performance.now()-y+b;c.value=Math.max(e()-o,0),c.value<=0&&t()},b)}return fe(t),{clear:t,time:c,start:h,reset:v}}const Pe=D({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...$({location:"bottom"}),...Q(),...X(),...Z(),...p(),...ee(R({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Ee=I()({name:"VSnackbar",props:Pe(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:a}=c;const t=F(e,"modelValue"),{positionClasses:v}=te(e),{scopeId:h}=_(),{themeClasses:n}=ae(e),{colorClasses:g,colorStyles:b,variantClasses:y}=ne(e),{roundedClasses:o}=oe(e),l=ye(()=>Number(e.timeout)),f=E(),i=E(),u=C(!1),r=C(0),m=E(),x=se(me,void 0);le(()=>!!x,()=>{const s=de();ge(()=>{m.value=s.mainStyles.value})}),S(t,k),S(()=>e.timeout,k),re(()=>{t.value&&k()});let L=-1;function k(){l.reset(),window.clearTimeout(L);const s=Number(e.timeout);if(!t.value||s===-1)return;const P=ie(i.value);l.start(P),L=window.setTimeout(()=>{t.value=!1},s)}function z(){l.reset(),window.clearTimeout(L)}function H(){u.value=!0,z()}function A(){u.value=!1,k()}function W(s){r.value=s.touches[0].clientY}function Y(s){Math.abs(r.value-s.changedTouches[0].clientY)>50&&(t.value=!1)}function K(){u.value&&A()}const j=ue(()=>e.location.split(" ").reduce((s,P)=>(s[`v-snackbar--${P}`]=!0,s),{}));return O(()=>{const s=T.filterProps(e),P=!!(a.default||a.text||e.text);return d(T,V({ref:f,class:["v-snackbar",{"v-snackbar--active":t.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},j.value,v.value,e.class],style:[m.value,e.style]},s,{modelValue:t.value,"onUpdate:modelValue":w=>t.value=w,contentProps:V({class:["v-snackbar__wrapper",n.value,g.value,o.value,y.value],style:[b.value],onPointerenter:H,onPointerleave:A},s.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:W,onTouchend:Y,onAfterLeave:K},h),{default:()=>{var w,B;return[ce(!1,"v-snackbar"),e.timer&&!u.value&&d("div",{key:"timer",class:"v-snackbar__timer"},[d(ve,{ref:i,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":l.time.value},null)]),P&&d("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((w=a.text)==null?void 0:w.call(a))??e.text,(B=a.default)==null?void 0:B.call(a)]),a.actions&&d(M,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[d("div",{class:"v-snackbar__actions"},[a.actions({isActive:t})])]})]},activator:a.activator})}),U({},f)}});export{we as V,Ee as a};
