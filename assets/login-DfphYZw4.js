import{V as p,a as f,b as g}from"./VCard-BxC59u1e.js";import{d as _,r as b,o as x,a as i,c,w as t,g as o,e as a,j as d,b as V,t as C,f as h,V as w,_ as v}from"./index-BrIH-k2R.js";import{V as y}from"./VAlert-C3B0bHgN.js";import{V as B}from"./VBtn-BlgGZyP5.js";const U=_({__name:"LoginBtn",setup(u){const l=encodeURIComponent("https://o2do-repository.github.io/AutoDo/#/consultant/list-consultant"),r="https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net",n=b(""),m=()=>{const s=`/login/complete?redirect=${encodeURIComponent(l)}`;window.location.href=`${r}/.auth/login/github?post_login_redirect_uri=${s}`};return x(()=>{const e=new URLSearchParams(window.location.search).get("error");e==="no-user"?n.value="Aucun utilisateur connecté via Azure.":e==="not-in-org"&&(n.value="Vous n'êtes pas membre de l'organisation O2do sur GitHub.")}),(s,e)=>(i(),c(w,{class:"fill-height d-flex align-center justify-center"},{default:t(()=>[o(p,{class:"pa-8",elevation:"12",rounded:"2xl","max-width":"400"},{default:t(()=>[o(f,{class:"text-h5 text-center mb-4"},{default:t(()=>e[0]||(e[0]=[a("Connexion")])),_:1}),o(g,{class:"text-center"},{default:t(()=>[o(d,{icon:"mdi-github",size:"56",color:"primary",class:"mb-4"}),e[2]||(e[2]=V("p",{class:"mb-6"}," Connecte-toi avec ton compte GitHub (membre O2do requis). ",-1)),n.value?(i(),c(y,{key:0,type:"error",class:"mb-4",dense:""},{default:t(()=>[a(C(n.value),1)]),_:1})):h("",!0),o(B,{color:"primary",size:"large",rounded:"",onClick:m},{default:t(()=>[o(d,{start:"",icon:"mdi-login"}),e[1]||(e[1]=a(" Se connecter "))]),_:1})]),_:1})]),_:1})]),_:1}))}}),k={};function z(u,l){const r=U;return i(),c(r)}const T=v(k,[["render",z]]);export{T as default};
