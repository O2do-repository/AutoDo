import{d as x,r as p,an as V,o as y,a as u,c as d,w as t,g as o,b as r,j as m,e as s,t as h,f as w,V as C,_ as g}from"./index-B1mgH4_e.js";import{V as B,a as k,b as f}from"./VCard-BbynzqBI.js";import{V as z}from"./VAlert-BXiDL6gI.js";import{V as N}from"./VBtn-Bagz_ZtH.js";const U=x({__name:"LoginBtn",setup(_){const i="https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net/auth/login",n=p(""),c=p(!1),l=V();function v(){c.value=!0;try{window.location.href=i}catch(a){c.value=!1,n.value="Erreur lors de la redirection vers le service d'authentification.",console.error(a)}}return y(()=>{const a=l.query.error;a&&(n.value=typeof a=="string"?a:"Erreur d'authentification");const e=l.query.login;l.query.email,e&&console.log("Utilisateur connecté:",e)}),(a,e)=>(u(),d(C,{class:"fill-height d-flex align-center justify-center"},{default:t(()=>[o(B,{class:"pa-8",elevation:"12",rounded:"xl","max-width":"450"},{default:t(()=>[o(k,{class:"text-h5 text-center mb-4"},{default:t(()=>e[0]||(e[0]=[r("span",{class:"font-weight-bold"},"AutoDo",-1)])),_:1}),o(f,{class:"text-center"},{default:t(()=>[o(m,{icon:"mdi-github",size:"56",color:"primary",class:"mb-4"}),e[2]||(e[2]=r("p",{class:"mb-6 text-body-1"},[s(" Connectez-vous avec votre compte GitHub pour accéder à l'application. "),r("br"),r("span",{class:"text-caption text-medium-emphasis"}," (Réservé aux membres de l'organisation O2do) ")],-1)),n.value?(u(),d(z,{key:0,type:"error",class:"mb-4",variant:"tonal",border:"start",closable:""},{default:t(()=>[s(h(n.value),1)]),_:1})):w("",!0),o(N,{color:"primary",size:"large",block:"",rounded:"pill",onClick:v,loading:c.value,"min-width":"200"},{default:t(()=>[o(m,{start:"",icon:"mdi-github",class:"mr-2"}),e[1]||(e[1]=s(" Se connecter avec GitHub "))]),_:1},8,["loading"])]),_:1}),o(f,{class:"text-caption text-center pt-4"},{default:t(()=>e[3]||(e[3]=[s(" En vous connectant, vous acceptez les conditions d'utilisation d'AutoDo. ")])),_:1})]),_:1})]),_:1}))}}),q=g(U,[["__scopeId","data-v-335eca47"]]),A={};function D(_,b){const i=q;return u(),d(i)}const G=g(A,[["render",D]]);export{G as default};
