import{f as h}from"./fetchWithApiKey-D7IKeyu8.js";import{V as u}from"./VAlert-DxTtqyku.js";import{d as _,r as l,o as b,a,c,w as i,b as g,e as p,t as k,f as d,g as f,h as m,V,_ as x}from"./index-BtRLXe3J.js";import{V as w}from"./VTextField-B_NkNZ33.js";import{V as P}from"./VDataTable-y9kFKkc6.js";import"./VSelect-B5YjA6J6.js";import"./VChip-CgrEdsFX.js";const F=["href"],R={key:1},U=_({__name:"HelloWorld",setup(v){const o=l([]),t=l(null),s=l(""),y=l([{key:"jobTitle",title:"Titre du poste",align:"start"},{key:"publicationDate",title:"Publiée le",align:"end",sortable:!0},{key:"deadlineDate",title:"Date limite",align:"end",sortable:!0},{key:"experienceLevel",title:"Expérience",align:"start"},{key:"rfpPriority",title:"Priorité",align:"center"},{key:"workplace",title:"Lieu",align:"start"},{key:"rfpUrl",title:"Lien",align:"center",sortable:!1}]);return b(async()=>{try{const r=await h("https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net/rfp");if(!r.ok)throw new Error("Erreur lors de la récupération des RFP ");const e=await r.json();o.value=Array.isArray(e)?e:[e]}catch(r){t.value=r instanceof Error?r.message:"Une erreur inconnue  est survenue",console.error(t.value)}}),(r,e)=>(a(),c(V,null,{default:i(()=>[e[2]||(e[2]=g("h1",{class:"text-center mb-6"},"Liste des RFP",-1)),t.value?(a(),c(u,{key:0,type:"error",variant:"outlined",class:"mb-4"},{default:i(()=>[p(k(t.value),1)]),_:1})):d("",!0),f(w,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=n=>s.value=n),label:"Rechercher un RFP","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"mb-4"},null,8,["modelValue"]),f(P,{headers:y.value,items:o.value,search:s.value,"item-value":"Uuid",class:"elevation-2",dense:""},{"item.rfpUrl":i(({item:n})=>[n.rfpUrl?(a(),m("a",{key:0,href:n.rfpUrl,target:"_blank"},"Voir l'offre",8,F)):(a(),m("span",R,"Non disponible"))]),_:1},8,["headers","items","search"]),!o.value.length&&!t.value?(a(),c(u,{key:1,type:"info",class:"mt-4"},{default:i(()=>e[1]||(e[1]=[p(" Aucun RFP disponible. ")])),_:1})):d("",!0)]),_:1}))}}),L=x(U,[["__scopeId","data-v-87c970cd"]]),j=_({__name:"index",setup(v){return(o,t)=>{const s=L;return a(),c(s)}}});export{j as default};
