import{V as f,a as m,b as p}from"./VCard-o0KfaOhX.js";import{d as _,o as g,a as i,c as l,w as n,g as t,e as s,j as c,b as x,V as b,_ as C}from"./index-Ds5C2Wy_.js";import{V}from"./VBtn-C7DrMURq.js";const h=_({__name:"LoginBtn",setup(d){const r="https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net",a=`${r}/user/me`;function u(){window.location.href=`${r}/.auth/login/github?post_login_redirect_uri=${encodeURIComponent(window.location.href)}`}return g(async()=>{try{const o=await fetch(a,{credentials:"include"});if(o.status===401)return;const e=await o.json();console.log("Connecté :",e.login)}catch(o){console.error("Erreur de récupération utilisateur",o)}}),(o,e)=>(i(),l(b,{class:"fill-height d-flex align-center justify-center"},{default:n(()=>[t(f,{class:"pa-8",elevation:"12",rounded:"2xl","max-width":"400"},{default:n(()=>[t(m,{class:"text-h5 text-center mb-4"},{default:n(()=>e[0]||(e[0]=[s("Connexion")])),_:1}),t(p,{class:"text-center"},{default:n(()=>[t(c,{icon:"mdi-github",size:"56",color:"primary",class:"mb-4"}),e[2]||(e[2]=x("p",{class:"mb-6"}," Connecte-toi avec ton compte GitHub (membre O2do requis). ",-1)),t(V,{color:"primary",size:"large",rounded:"",onClick:u},{default:n(()=>[t(c,{start:"",icon:"mdi-login"}),e[1]||(e[1]=s(" Se connecter "))]),_:1})]),_:1})]),_:1})]),_:1}))}}),w={};function B(d,r){const a=h;return i(),l(a)}const z=C(w,[["render",B]]);export{z as default};
