import{x as C,g as y,B as $,bB as u,s as B,D as d,bC as D,E as w,bD as F,bE as I,bF as S,bG as v}from"./index-r6TTcK35.js";const T=B({target:[Object,Array]},"v-dialog-transition"),q=C()({name:"VDialogTransition",props:T(),setup(a,n){let{slots:e}=n;const o={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,p){var l;await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),t.style.visibility="";const{x:i,y:r,sx:g,sy:h,speed:c}=E(a.target,t),f=d(t,[{transform:`translate(${i}px, ${r}px) scale(${g}, ${h})`,opacity:0},{}],{duration:225*c,easing:D});(l=x(t))==null||l.forEach(s=>{d(s,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:w})}),f.finished.then(()=>p())},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,p){var l;await new Promise(s=>requestAnimationFrame(s));const{x:i,y:r,sx:g,sy:h,speed:c}=E(a.target,t);d(t,[{},{transform:`translate(${i}px, ${r}px) scale(${g}, ${h})`,opacity:0}],{duration:125*c,easing:F}).finished.then(()=>p()),(l=x(t))==null||l.forEach(s=>{d(s,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:w})})},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>a.target?y(u,$({name:"dialog-transition"},o,{css:!1}),e):y(u,{name:"dialog-transition"},e)}});function x(a){var e;const n=(e=a.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:e.children;return n&&[...n]}function E(a,n){const e=I(a),o=S(n),[t,p]=getComputedStyle(n).transformOrigin.split(" ").map(A=>parseFloat(A)),[i,r]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let g=e.left+e.width/2;i==="left"||r==="left"?g-=e.width/2:(i==="right"||r==="right")&&(g+=e.width/2);let h=e.top+e.height/2;i==="top"||r==="top"?h-=e.height/2:(i==="bottom"||r==="bottom")&&(h+=e.height/2);const c=e.width/o.width,f=e.height/o.height,l=Math.max(1,c,f),s=c/l||0,P=f/l||0,m=o.width*o.height/(window.innerWidth*window.innerHeight),b=m>.12?Math.min(1.5,(m-.12)*10+1):1;return{x:g-(t+o.left),y:h-(p+o.top),sx:s,sy:P,speed:b}}async function K(a,n){const e=localStorage.getItem("apiKey");if(!e)throw v.push("/login"),new Error("Clé API manquante");const o=new Headers((n==null?void 0:n.headers)||{});o.set("X-API-KEY",e);const t=await fetch(a,{...n,headers:o});if(t.status===401)throw console.warn("Clé API invalide - redirection"),localStorage.removeItem("apiKey"),v.push("/login"),new Error("Clé API invalide");return t}export{q as V,K as f};
