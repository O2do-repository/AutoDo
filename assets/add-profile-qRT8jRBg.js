import{h as v,j as V,v as c,o as d,i as m,w as o,n as s,t as T,q as k,f as t,V as w}from"./index-DrGqQ6lX.js";import{V as S,a as n,b as i,c as U}from"./VSelect-DoMiOOY6.js";import{V as E,a as g,b as q,c as J}from"./VCard-C942omfM.js";const L=v({__name:"AddProfile",setup(f){const e=V({consultantUuid:"50bcf3a7-d5d9-4017-9df4-f0da847bfe5a",RateHour:null,CV:"",CVDate:"",JobTitle:"",ExperienceLevel:"",Skills:[],keywords:[]}),p=["Junior","Medior","Senior"],b=["C#","ASP.NET","Vue.js","SQL"],C=["Backend","Frontend","API"],r=V(null),x=c(),y=async()=>{if(r.value=null,!e.value.JobTitle||!e.value.CV||!e.value.CVDate||!e.value.ExperienceLevel){r.value="Veuillez remplir tous les champs obligatoires.";return}try{if(!(await fetch("https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net/profil",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)})).ok)throw new Error("Erreur lors de l'ajout du profil");setTimeout(()=>{x.push("/table-profile")},1e3)}catch(u){console.error(u instanceof Error?u.message:"Une erreur est survenue")}};return(u,l)=>(d(),m(w,null,{default:o(()=>[r.value?(d(),m(S,{key:0,closable:"",type:"error",variant:"outlined"},{default:o(()=>[s(T(r.value),1)]),_:1})):k("",!0),t(E,{class:"pa-4"},{default:o(()=>[t(g,null,{default:o(()=>l[8]||(l[8]=[s("Nouvel Profil")])),_:1}),t(q,null,{default:o(()=>[t(n,{label:"Job Title *",modelValue:e.value.JobTitle,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.JobTitle=a),required:""},null,8,["modelValue"]),t(i,{label:"Niveau d'expérience *",modelValue:e.value.ExperienceLevel,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.ExperienceLevel=a),items:p,required:""},null,8,["modelValue"]),t(n,{label:"Tarif / heure *",modelValue:e.value.RateHour,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.RateHour=a),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"]),t(n,{label:"CV URL *",modelValue:e.value.CV,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.CV=a),required:""},null,8,["modelValue"]),t(n,{label:"Date CV *",modelValue:e.value.CVDate,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.CVDate=a),type:"datetime-local",required:""},null,8,["modelValue"]),t(i,{label:"Compétences",modelValue:e.value.Skills,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.Skills=a),items:b,"item-text":"name","item-value":"name",multiple:"",required:""},null,8,["modelValue"]),t(i,{label:"Mots-clés",modelValue:e.value.keywords,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.keywords=a),items:C,"item-text":"name","item-value":"name",multiple:"",required:""},null,8,["modelValue"])]),_:1}),t(J,null,{default:o(()=>[t(U,{color:"primary",onClick:l[7]||(l[7]=a=>y())},{default:o(()=>l[9]||(l[9]=[s("Publier")])),_:1})]),_:1})]),_:1})]),_:1}))}}),A=v({__name:"add-profile",setup(f){return(e,p)=>(d(),m(L))}});export{A as default};
