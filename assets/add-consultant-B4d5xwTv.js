import{p as K,g as Q,x as D,j as A,I as X,y as N,z as Y,e as Z,A as ee,f as e,B as T,F as le,C as ae,D as te,E as oe,h as q,v as ue,G as re,o as j,i as L,w as r,n as z,H as ne,J as se,V as ie}from"./index-BJ03CsVp.js";import{G as de}from"./GoBackBtn-MgY6OdZg.js";import{V as ce,a as me,b as ve,c as fe}from"./VCard-8f-GiFw9.js";import{V as pe,a as i}from"./VRow-DjRD9HHV.js";import{m as Ve,b as ye,u as Ce,c as F,d as R,V as c,a as be}from"./VSelect-CbB5Qgi_.js";import{u as he,L as Pe,a as ge,V as ke}from"./VBtn-1MYAy1QJ.js";const we=K({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ve(),...ye()},"VSwitch"),Ie=Q()({name:"VSwitch",inheritAttrs:!1,props:we(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,l){let{attrs:V,slots:n}=l;const s=D(t,"indeterminate"),v=D(t,"modelValue"),{loaderClasses:k}=he(t),{isFocused:w,focus:f,blur:y}=Ce(t),C=A(),b=X&&window.matchMedia("(forced-colors: active)").matches,I=N(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),x=Y(),u=N(()=>t.id||`switch-${x}`);function a(){s.value&&(s.value=!1)}function o(h){var P,g;h.stopPropagation(),h.preventDefault(),(g=(P=C.value)==null?void 0:P.input)==null||g.click()}return Z(()=>{const[h,P]=ee(V),g=F.filterProps(t),$=R.filterProps(t);return e(F,T({class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":s.value},k.value,t.class]},h,g,{modelValue:v.value,"onUpdate:modelValue":_=>v.value=_,id:u.value,focused:w.value,style:t.style}),{...n,default:_=>{let{id:M,messagesId:O,isDisabled:G,isReadonly:J,isValid:B}=_;const S={model:v,isValid:B};return e(R,T({ref:C},$,{modelValue:v.value,"onUpdate:modelValue":[p=>v.value=p,a],id:M.value,"aria-describedby":O.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:G.value,readonly:J.value,onFocus:f,onBlur:y},P),{...n,default:p=>{let{backgroundColorClasses:E,backgroundColorStyles:d}=p;return e("div",{class:["v-switch__track",b?void 0:E.value],style:d.value,onClick:o},[n["track-true"]&&e("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"](S)]),n["track-false"]&&e("div",{key:"append",class:"v-switch__track-false"},[n["track-false"](S)])])},input:p=>{let{inputNode:E,icon:d,backgroundColorClasses:W,backgroundColorStyles:H}=p;return e(le,null,[E,e("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":d||t.loading},t.inset||b?void 0:W.value],style:t.inset?void 0:H.value},[n.thumb?e(ae,{defaults:{VIcon:{icon:d,size:"x-small"}}},{default:()=>[n.thumb({...S,icon:d})]}):e(te,null,{default:()=>[t.loading?e(Pe,{name:"v-switch",active:!0,color:B.value===!1?void 0:I.value},{default:U=>n.loader?n.loader(U):e(ge,{active:U.isActive,color:U.color,indeterminate:!0,size:"16",width:"2"},null)}):d&&e(oe,{key:String(d),icon:d,size:"x-small"},null)]})])])}})}})}),{}}}),m="https://static.vecteezy.com/system/resources/thumbnails/003/337/584/small/default-avatar-photo-placeholder-profile-icon-vector.jpg",xe=q({__name:"AddConsultant",setup(t){const l=A({Email:"",AvailabilityDate:"",ExpirationDateCI:"",Intern:!1,Name:"",Surname:"",enterprise:null,Phone:"",CopyCI:"",Picture:""}),V=ue(),n=[{id:0,name:"O2do"},{id:1,name:"Winch"},{id:2,name:"MI6"}],s=u=>u!=null&&u!==""||"Champ obligatoire",v=u=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||"E-mail invalide",k=u=>/^[0-9]{10}$/.test(u)||"Numéro de téléphone invalide (10 chiffres)",w=u=>!!u||"Veuillez choisir une date",f=A(m),y=()=>{if(!l.value.Picture||l.value.Picture.trim()===""){f.value=m;return}const u=new Image;u.src=l.value.Picture,u.onload=()=>{f.value=l.value.Picture},u.onerror=()=>{f.value=m}},C=()=>{l.value.Picture===m&&(l.value.Picture="")},b=()=>{l.value.Picture||(l.value.Picture=m)},I=()=>{f.value=m};re(()=>l.value.Picture,y);const x=async()=>{try{if((!l.value.Picture||l.value.Picture.trim()==="")&&(l.value.Picture=m),!(await fetch("https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net/consultant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l.value)})).ok)throw new Error("Erreur lors de l'ajout du consultant");setTimeout(()=>{V.push("/consultant/list-consultant")},1e3)}catch(u){console.error(u instanceof Error?u.message:"Une erreur est survenue")}};return(u,a)=>(j(),L(ie,null,{default:r(()=>[e(ce,{class:"pa-4"},{default:r(()=>[e(de,{class:"mb-4"}),e(me,{class:"text-h5 font-weight-bold"},{default:r(()=>a[10]||(a[10]=[z("Nouveau Consultant")])),_:1}),e(ve,null,{default:r(()=>[e(pe,null,{default:r(()=>[e(i,{cols:"12",class:"d-flex flex-column align-center"},{default:r(()=>[e(ne,{size:"150"},{default:r(()=>[e(se,{src:f.value,alt:"Photo Consultant",contain:"",onError:I},null,8,["src"])]),_:1})]),_:1}),e(i,{cols:"12"},{default:r(()=>[e(c,{variant:"outlined",color:"primary",label:"Lien Photo *",modelValue:l.value.Picture,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value.Picture=o),placeholder:m,onFocus:C,onBlur:b,onInput:y},null,8,["modelValue"])]),_:1}),e(i,{cols:"6"},{default:r(()=>[e(c,{variant:"outlined",color:"primary",label:"Nom *",modelValue:l.value.Name,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.Name=o),rules:[s],required:""},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"6"},{default:r(()=>[e(c,{variant:"outlined",color:"primary",label:"Prénom *",modelValue:l.value.Surname,"onUpdate:modelValue":a[2]||(a[2]=o=>l.value.Surname=o),rules:[s],required:""},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"6"},{default:r(()=>[e(c,{variant:"outlined",color:"primary",label:"Lien Copie CI *",modelValue:l.value.CopyCI,"onUpdate:modelValue":a[3]||(a[3]=o=>l.value.CopyCI=o),rules:[s],required:""},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"6"},{default:r(()=>[e(c,{variant:"outlined",color:"primary",label:"Expiration CI *",modelValue:l.value.ExpirationDateCI,"onUpdate:modelValue":a[4]||(a[4]=o=>l.value.ExpirationDateCI=o),type:"date"},null,8,["modelValue"])]),_:1}),e(i,{cols:"6"},{default:r(()=>[e(Ie,{variant:"outlined",color:"primary",label:"Stagiaire *",modelValue:l.value.Intern,"onUpdate:modelValue":a[5]||(a[5]=o=>l.value.Intern=o)},null,8,["modelValue"])]),_:1}),e(i,{cols:"6"},{default:r(()=>[e(be,{label:"Entreprise *",modelValue:l.value.enterprise,"onUpdate:modelValue":a[6]||(a[6]=o=>l.value.enterprise=o),items:n,"item-title":"name","item-value":"id",rules:[s],variant:"outlined",color:"primary"},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"6"},{default:r(()=>[e(c,{variant:"outlined",color:"primary",label:"Email *",modelValue:l.value.Email,"onUpdate:modelValue":a[7]||(a[7]=o=>l.value.Email=o),rules:[s,v],required:""},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"6"},{default:r(()=>[e(c,{variant:"outlined",color:"primary",label:"Téléphone *",modelValue:l.value.Phone,"onUpdate:modelValue":a[8]||(a[8]=o=>l.value.Phone=o),rules:[s,k],required:""},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"6"},{default:r(()=>[e(c,{variant:"outlined",color:"primary",label:"Date de disponibilité *",modelValue:l.value.AvailabilityDate,"onUpdate:modelValue":a[9]||(a[9]=o=>l.value.AvailabilityDate=o),type:"date",rules:[w],required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(fe,{class:"d-flex justify-end"},{default:r(()=>[e(ke,{color:"primary",onClick:x},{default:r(()=>a[11]||(a[11]=[z("Publier")])),_:1})]),_:1})]),_:1})]),_:1}))}}),De=q({__name:"add-consultant",setup(t){return(l,V)=>(j(),L(xe))}});export{De as default};
