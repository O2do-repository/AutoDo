import{d as _,a1 as x,r as c,o as b,a as u,c as d,w as o,g as t,e as l,j as i,b as V,V as h,_ as C}from"./index-BjzI02yu.js";import{V as w,a as v,b as B}from"./VCard-C0DMvdMs.js";import{V as y}from"./VBtn-D4IWJFuF.js";const k=_({__name:"LoginBtn",setup(f){const a="https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net",s=`${a}/user/me`,m=x(),p=c(null),r=c(!0);function g(){window.location.href=`${a}/.auth/login/github`}return b(async()=>{try{const n=await fetch(s,{credentials:"include"});if(n.status===401){r.value=!1;return}const e=await n.json();p.value=e,console.log("Connecté :",e),m.push("/consultant/list-consultant")}catch(n){console.error("Erreur lors de la récupération de l'utilisateur :",n)}finally{r.value=!1}}),(n,e)=>(u(),d(h,{class:"fill-height d-flex align-center justify-center"},{default:o(()=>[t(w,{class:"pa-8",elevation:"12",rounded:"2xl","max-width":"400"},{default:o(()=>[t(v,{class:"text-h5 text-center mb-4"},{default:o(()=>e[0]||(e[0]=[l(" Connexion ")])),_:1}),t(B,{class:"text-center"},{default:o(()=>[t(i,{icon:"mdi-github",size:"56",color:"primary",class:"mb-4"}),e[2]||(e[2]=V("p",{class:"mb-6"}," Connecte-toi avec ton compte GitHub (membre O2do requis). ",-1)),t(y,{color:"primary",size:"large",rounded:"",onClick:g,loading:r.value},{default:o(()=>[t(i,{start:"",icon:"mdi-login"}),e[1]||(e[1]=l(" Se connecter "))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}))}}),z={};function T(f,a){const s=k;return u(),d(s)}const $=C(z,[["render",T]]);export{$ as default};
