import{h as d,j as x,v as c,k,o as m,i as p,w as r,f as t,n as i,V as T}from"./index-Bkgs0Zah.js";import{G as U}from"./GoBackBtn-Cd88gvsu.js";import{V as y,a as w,b as S,c as g}from"./VCard-DbOxVaLs.js";import{V as u,a as n}from"./VSelect-yJoDpOm4.js";import{V as E}from"./forwardRefs-DzoXtlxl.js";const P=d({__name:"AddProfile",setup(V){const l=x({consultantUuid:"",RateHour:null,CV:"",CVDate:"",JobTitle:"",ExperienceLevel:"",Skills:[],keywords:[]}),s=["Junior","Medior","Senior"],f=["C#","ASP.NET","Vue.js","SQL"],v=["Backend","Frontend","API"],b=c();k(()=>{const a=sessionStorage.getItem("selectedConsultantUuid");a?l.value.consultantUuid=a:console.error("Aucun consultant sélectionné")});const C=async()=>{try{if(!(await fetch("https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net/profil",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l.value)})).ok)throw new Error("Erreur lors de l'ajout du profil");setTimeout(()=>{b.go(-1)},1e3)}catch(a){console.error(a instanceof Error?a.message:"Une erreur est survenue")}};return(a,e)=>(m(),p(T,null,{default:r(()=>[t(y,{class:"pa-4"},{default:r(()=>[t(U),t(w,null,{default:r(()=>e[8]||(e[8]=[i("Nouveau Profil")])),_:1}),t(S,null,{default:r(()=>[t(u,{label:"Job Title *",modelValue:l.value.JobTitle,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.JobTitle=o),required:""},null,8,["modelValue"]),t(n,{label:"Niveau d'expérience *",modelValue:l.value.ExperienceLevel,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.ExperienceLevel=o),items:s,required:""},null,8,["modelValue"]),t(u,{label:"Tarif / heure *",modelValue:l.value.RateHour,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.RateHour=o),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"]),t(u,{label:"CV URL *",modelValue:l.value.CV,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.CV=o),required:""},null,8,["modelValue"]),t(u,{label:"Date CV *",modelValue:l.value.CVDate,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.CVDate=o),type:"datetime-local",required:""},null,8,["modelValue"]),t(n,{label:"Compétences",modelValue:l.value.Skills,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.Skills=o),items:f,"item-text":"name","item-value":"name",multiple:"",required:""},null,8,["modelValue"]),t(n,{label:"Mots-clés",modelValue:l.value.keywords,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.keywords=o),items:v,"item-text":"name","item-value":"name",multiple:"",required:""},null,8,["modelValue"])]),_:1}),t(g,null,{default:r(()=>[t(E,{color:"primary",onClick:e[7]||(e[7]=o=>C())},{default:r(()=>e[9]||(e[9]=[i("Publier")])),_:1})]),_:1})]),_:1})]),_:1}))}}),A=d({__name:"add-profile",setup(V){return(l,s)=>(m(),p(P))}});export{A as default};
