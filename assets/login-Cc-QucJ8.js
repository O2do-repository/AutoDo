import{V as p,a as _,b}from"./VCard-BI-Px82F.js";import{d as x,r as u,o as V,a as l,c as d,w as r,g as t,e as c,j as m,b as v,t as C,f as h,V as w,_ as y}from"./index-BXxyq9A2.js";import{V as B}from"./VAlert-CVjtGNN6.js";import{V as L}from"./VBtn-DoRDLjX-.js";const k=x({__name:"LoginBtn",setup(f){const i="https://autodo-fpe3azgvbvcxbgcx.westeurope-01.azurewebsites.net",a=`${i}/.auth/login/github?post_login_redirect_uri=${encodeURIComponent(`${i}/login`)}`,n=u(""),s=u(!1);function g(){try{s.value=!0,console.log("Redirecting to:",a),window.location.href=a}catch(o){console.error("Redirect error:",o),n.value="Erreur lors de la redirection: "+(o instanceof Error?o.message:"Erreur inconnue"),s.value=!1}}return V(()=>{const e=new URLSearchParams(window.location.search).get("error");e&&(n.value=`Erreur d'authentification: ${e}`)}),(o,e)=>(l(),d(w,{class:"fill-height d-flex align-center justify-center"},{default:r(()=>[t(p,{class:"pa-8",elevation:"12",rounded:"2xl","max-width":"400"},{default:r(()=>[t(_,{class:"text-h5 text-center mb-4"},{default:r(()=>e[0]||(e[0]=[c("Connexion")])),_:1}),t(b,{class:"text-center"},{default:r(()=>[t(m,{icon:"mdi-github",size:"56",color:"primary",class:"mb-4"}),e[2]||(e[2]=v("p",{class:"mb-6"}," Connecte-toi avec ton compte GitHub (membre O2do requis). ",-1)),n.value?(l(),d(B,{key:0,type:"error",class:"mb-4",dense:""},{default:r(()=>[c(C(n.value),1)]),_:1})):h("",!0),t(L,{color:"primary",size:"large",rounded:"",onClick:g,loading:s.value,disabled:s.value},{default:r(()=>[t(m,{start:"",icon:"mdi-login"}),e[1]||(e[1]=c(" Se connecter "))]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}))}}),R={};function $(f,i){const a=k;return l(),d(a)}const T=y(R,[["render",$]]);export{T as default};
